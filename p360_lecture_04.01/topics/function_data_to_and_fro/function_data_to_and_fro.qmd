
# Passing Data To and From Functions

::: notes
~ 45 min
::: 

## Void Functions are Useful, but ...

**Functions become much more powerful when they can:**
- **Receive data** (inputs)
- **Process that data**
- **Return results** (outputs)

---

## The Problem: Functions Need Data

```cpp
void displayName() {
    cout << "Hello, Alice!" << endl;
}
```

**Problem:** This only works for Alice!

---

```cpp
void displayName() {
    cout << "Hello, Alice!" << endl;
}
```

**What we want:**
```cpp
displayName("Alice");   // Hello, Alice!
displayName("Bob");     // Hello, Bob!
displayName("Charlie"); // Hello, Charlie!
```

---

**Solution:** Give the function the ability to receive data!

---

## Parameters: Function Inputs

**Parameters** are variables that receive data when a function is called.

```cpp
void displayName(string name) {
    cout << "Hello, " << name << "!" << endl;
}
```

**Parts:**
- `string` - The data type (what kind of data)
- `name` - The parameter name (variable inside the function)

**Think of parameters as:**
- Placeholders for data
- Empty boxes waiting to be filled
- Variables that exist only inside the function

---

## Arguments: The Actual Data

**Arguments** are the actual values you pass to a function when calling it.

```cpp
displayName("Alice");  // "Alice" is the argument
```

---

**Key Distinction:**
- **Parameter** = Variable in function definition (placeholder)
- **Argument** = Actual value passed when calling (real data)

```cpp
void displayName(string name) {  // name is a PARAMETER
    cout << "Hello, " << name << "!" << endl;
}

int main() {
    displayName("Alice");  // "Alice" is an ARGUMENT
    return 0;
}
```

---

## Complete Example: One Parameter

```cpp
#include <iostream>
using namespace std;

// BAD Practice - we use function prototypes 
void greet(string person) {
    cout << "Welcome, " << person << "!" << endl;
}

int main() {
    greet("Alice");
    greet("Bob");
    greet("Charlie");
    
    return 0;
}
```

**Output:**
```
Welcome, Alice!
Welcome, Bob!
Welcome, Charlie!
```

**What happens:** The argument value is copied into the parameter variable.

---

## Multiple Parameters

Functions can accept multiple pieces of data:

```cpp
void displayProduct(string name, double price) {
    cout << name << " costs $" << price << endl;
}

int main() {
    displayProduct("Laptop", 899.99);
    displayProduct("Mouse", 24.50);
    
    return 0;
}
```

**Output:**
```
Laptop costs $899.99
Mouse costs $24.50
```

---

**Important:** 
- Separate parameters with commas
- Order matters! Arguments must match parameter order

---

## Parameter Syntax

```cpp
returnType functionName(type1 param1, type2 param2, type3 param3, etc.) {
    // Function body
}
```

**Examples:**
```cpp
void displayInfo(string name, int age) { }

void printSum(int a, int b) { }

void showData(string title, int count, double value) { }
```

---

**Rules:**
- Each parameter needs a type
- Separate with commas
- Parameters are local to the function
- Use descriptive names

---

## Order Matters!

```cpp
void displayStudent(string name, int age, double gpa) {
    cout << name << " is " << age << " years old" << endl;
    cout << "GPA: " << gpa << endl;
}

int main() {
    displayStudent("Alice", 20, 3.8);  // Correct order
    displayStudent(20, "Alice", 3.8);  // ERROR! Wrong types
    
    return 0;
}
```

**The argument types and order must match the parameter types and order!**

---

## Parameters with Different Types

```cpp
#include <iostream>
#include <iomanip>
using namespace std;

void displayScore(string student, int score, char grade) {
    cout << left << setw(12) << student 
         << right << setw(5) << score 
         << "  Grade: " << grade << endl;
}

int main() {
    displayScore("Alice", 95, 'A');
    displayScore("Bob", 87, 'B');
    displayScore("Charlie", 78, 'C');
    
    return 0;
}
```

**Output:**
```
Alice          95  Grade: A
Bob            87  Grade: B
Charlie        78  Grade: C
```

---

## Returning Data From Functions

**So far:** Functions that receive data but don't give anything back (void)

**Now:** Functions that return a result!

```cpp
int add(int a, int b) {
    int sum = a + b;
    return sum;
}
```

---


```cpp
int add(int a, int b) {
    int sum = a + b;
    return sum;
}
```

**Parts:**
- `int` - Return type (what type of data comes back)
- `return sum;` - Send the value back to the caller

---

## Return Type Replaces void

**Compare:**

```cpp
void displaySum(int a, int b) {
    cout << "Sum: " << (a + b) << endl;
}
```

**vs.**

```cpp
int calculateSum(int a, int b) {
    return a + b;
}
```

---

**First version:** Does something (prints)  
**Second version:** Gives back a value (returns)

---

## Using Return Values

```cpp
int add(int a, int b) {
    return a + b;
}

int main() {
    int result = add(5, 3);
    cout << "Result: " << result << endl;
    
    // Or use directly
    cout << "Sum: " << add(10, 20) << endl;
    
    return 0;
}
```

**Output:**
```
Result: 8
Sum: 30
```

---

**You can:**
- Store the return value in a variable
- Use it directly in an expression
- Pass it to another function

---

## Complete Example: Return Value

```cpp
#include <iostream>
using namespace std;

double calculateAverage(double num1, double num2) {
    double avg = (num1 + num2) / 2.0;
    return avg;
}

int main() {
    double score1 = 85.5;
    double score2 = 92.3;
    
    double average = calculateAverage(score1, score2);
    
    cout << "Average: " << average << endl;
    
    return 0;
}
```

**Output:**
```
Average: 88.9
```

---

## Different Return Types

```cpp
int getAge() {
    return 25;
}

double getPrice() {
    return 19.99;
}

string getName() {
    return "Alice";
}

char getGrade() {
    return 'A';
}

bool isPassing(int score) {
    return score >= 60;
}
```

**The return type must match the type of value you return!**

---

## Return Type Must Match

```cpp
int getValue() {
    return 3.14;  // WARNING! Returns double, function expects int
                   // Will be truncated to 3
}

double getNumber() {
    return 42;    // OK! int converts to double (42.0)
}

string getName() {
    return 123;   // ERROR! Can't convert int to string
}
```

**Rule:** Return statement value must match (or be convertible to) the return type.

---

## Multiple Return Statements

Functions can have multiple return statements:

```cpp
string getLetterGrade(int score) {
    if (score >= 90) {
        return "A";
    }
    if (score >= 80) {
        return "B";
    }
    if (score >= 70) {
        return "C";
    }
    if (score >= 60) {
        return "D";
    }
    return "F";
}
```

**Once a return executes, the function immediately exits!**

---

## Practical Example: Area Calculator

```cpp
#include <iostream>
using namespace std;

double calculateRectangleArea(double length, double width) {
    return length * width;
}

double calculateCircleArea(double radius) {
    const double PI = 3.14159;
    return PI * radius * radius;
}

int main() {
    double rectArea = calculateRectangleArea(5.0, 3.0);
    double circArea = calculateCircleArea(4.0);
    
    cout << "Rectangle area: " << rectArea << endl;
    cout << "Circle area: " << circArea << endl;
    
    return 0;
}
```

**Output:**
```
Rectangle area: 15
Circle area: 50.2654
```

---

## Data Flow Diagram

```
CALLER (main)          FUNCTION (add)
    |                       |
    |  Arguments: 5, 3      |
    |--------------------->|
    |                       |
    |                  Parameters: a=5, b=3
    |                       |
    |                  Calculate: sum = 8
    |                       |
    |   Return value: 8     |
    |<---------------------|
    |                       |
Store in variable
or use in expression
```

---

```mermaid
sequenceDiagram
    participant Caller as CALLER\n(main)
    participant AddFunc as FUNCTION\nadd(a, b)
    participant Calc as Compute\nsum = a + b

    Caller->>AddFunc: Arguments: 5, 3
    Note right of AddFunc: Parameters bound\n a = 5\n b = 3
    AddFunc->>Calc: Execute computation
    Note right of Calc: sum = a + b\nsum = 8
    Calc-->>AddFunc: Result: 8
    AddFunc-->>Caller: Return value: 8
```




**Data flows INTO the function via arguments/parameters**  
**Data flows OUT OF the function via return value**

---

## Pass By Value (Default Behavior)

When you pass arguments, C++ makes a **copy** of the value:

```cpp
void changeNumber(int num) {
    num = 100;
    cout << "Inside function: " << num << endl;
}

int main() {
    int value = 5;
    changeNumber(value);
    cout << "In main: " << value << endl;  // Still 5!
    
    return 0;
}
```

**Output:**
```
Inside function: 100
In main: 5
```

**The original variable is NOT changed!** (More on this later with references)

---

## Function Declarations (Prototypes)

**Problem:** Functions must be defined before they're called.

**Solution:** Use function prototypes!

```cpp
#include <iostream>
using namespace std;

// Function prototype (declaration)
int add(int a, int b);

int main() {
    cout << add(5, 3) << endl;  // Can call before definition
    return 0;
}

// Function definition (implementation)
int add(int a, int b) {
    return a + b;
}
```

**Prototype tells the compiler:**
- The function exists
- Its return type
- Its parameter types

---

## Prototype Syntax

```cpp
// Full prototype
int calculateSum(int num1, int num2);

// Parameter names optional (but helpful)
int calculateSum(int, int);

// Multiple prototypes
double getAverage(double, double, double);
void displayResult(string, double);
bool isValid(int);
```

**Convention:**
- Prototypes at the top (or in header files)
- Definitions below main() or in separate files
- Parameter names in prototypes make code more readable

---

## Complete Example: With Prototypes

```cpp
#include <iostream>
using namespace std;

// Function prototypes
void displayMenu();
int getChoice();
double calculateTax(double amount);

int main() {
    displayMenu();
    int choice = getChoice();
    double tax = calculateTax(99.99);
    
    cout << "Tax: $" << tax << endl;
    
    return 0;
}

void displayMenu() {
    cout << "1. Add item" << endl;
    cout << "2. Calculate total" << endl;
}

int getChoice() {
    int choice;
    cin >> choice;
    return choice;
}

double calculateTax(double amount) {
    return amount * 0.08;
}
```

---

## Common Mistakes: Missing Return

```cpp
int getValue() {
    int x = 10;
    // ERROR! No return statement
}
```

**Compiler warning:** Control reaches end of non-void function

**Fix:** Always return a value in non-void functions!

```cpp
int getValue() {
    int x = 10;
    return x;  // Correct!
}
```

---

## Common Mistakes: Wrong Argument Count

```cpp
void displayInfo(string name, int age) {
    cout << name << " is " << age << endl;
}

int main() {
    displayInfo("Alice");        // ERROR! Missing argument
    displayInfo("Bob", 20, 3.5); // ERROR! Too many arguments
    
    return 0;
}
```

**Fix:** Match the number of arguments to the number of parameters!

```cpp
displayInfo("Alice", 20);  // Correct!
```

---

## Common Mistakes: Wrong Argument Type

```cpp
void displayAge(int age) {
    cout << "Age: " << age << endl;
}

int main() {
    displayAge("twenty");  // ERROR! String, not int
    displayAge(20.5);      // WARNING! double truncated to int
    
    return 0;
}
```

**Fix:** Match argument types to parameter types!

```cpp
displayAge(20);  // Correct!
```

---

## Common Mistakes: Using void Return

```cpp
void displayMessage(string msg) {
    cout << msg << endl;
}

int main() {
    string result = displayMessage("Hello");  // ERROR!
    // void functions don't return values
    
    return 0;
}
```

**Fix:** Just call void functions without capturing a return value:

```cpp
displayMessage("Hello");  // Correct!
```

---

## Practical Example: Temperature Converter

```cpp
#include <iostream>
#include <iomanip>
using namespace std;

// Function prototypes
double celsiusToFahrenheit(double celsius);
double fahrenheitToCelsius(double fahrenheit);
void displayConversion(double original, double converted, string unit);

int main() {
    double tempC = 25.0;
    double tempF = celsiusToFahrenheit(tempC);
    displayConversion(tempC, tempF, "F");
    
    double temp2F = 77.0;
    double temp2C = fahrenheitToCelsius(temp2F);
    displayConversion(temp2F, temp2C, "C");
    
    return 0;
}

double celsiusToFahrenheit(double celsius) {
    return (celsius * 9.0 / 5.0) + 32.0;
}

double fahrenheitToCelsius(double fahrenheit) {
    return (fahrenheit - 32.0) * 5.0 / 9.0;
}

void displayConversion(double original, double converted, string unit) {
    cout << fixed << setprecision(1);
    cout << original << "° = " << converted << "°" << unit << endl;
}
```

---

## Practical Example: Grade Calculator

```cpp
#include <iostream>
using namespace std;

// Function prototypes
double calculateAverage(int score1, int score2, int score3);
char determineGrade(double average);
void displayResults(string name, double avg, char grade);

int main() {
    string studentName = "Alice";
    int test1 = 85, test2 = 92, test3 = 88;
    
    double average = calculateAverage(test1, test2, test3);
    char letterGrade = determineGrade(average);
    displayResults(studentName, average, letterGrade);
    
    return 0;
}

double calculateAverage(int score1, int score2, int score3) {
    return (score1 + score2 + score3) / 3.0;
}

char determineGrade(double average) {
    if (average >= 90) return 'A';
    if (average >= 80) return 'B';
    if (average >= 70) return 'C';
    if (average >= 60) return 'D';
    return 'F';
}

void displayResults(string name, double avg, char grade) {
    cout << name << "'s average: " << avg << endl;
    cout << "Letter grade: " << grade << endl;
}
```

---

## When to Use Parameters vs Return Values

**Use Parameters when:**
- The function needs input data to work with
- You're passing configuration or settings
- You're providing multiple pieces of information

**Use Return Values when:**
- The function calculates a result
- You need the data back in the caller
- The function performs a query or lookup

**Use Both when:**
- Function processes input and produces output
- Example: `double calculateTax(double amount)`

---

## Function Design Guidelines

**Good function design:**
- One clear purpose
- Descriptive name (verb + noun)
- Minimal parameters (1-3 is ideal)
- Consistent return type
- No side effects (for now)

**Examples:**
```cpp
double calculateTotal(double price, int quantity)    // Good
int findMax(int a, int b)                           // Good
void displayMenu()                                   // Good

void doStuff(int x, int y, double z, string s)      // Too many params
int thing()                                          // Unclear name
```

---

## Benefits of Functions with Parameters

**1. Reusability**
```cpp
displayStudent("Alice", 20);
displayStudent("Bob", 22);
displayStudent("Charlie", 19);
```

**2. Flexibility**
```cpp
double tax1 = calculateTax(99.99);
double tax2 = calculateTax(149.50);
```

**3. Testability**
```cpp
// Easy to test with different inputs
assert(add(2, 3) == 5);
assert(add(-1, 1) == 0);
```

---

## Summary: Parameters

**Parameters** (in function definition):
- Variables that receive data
- Placeholders for actual values
- Defined with type and name
- Local to the function

```cpp
void greet(string name) {  // name is a parameter
    cout << "Hello, " << name << endl;
}
```

**Arguments** (in function call):
- Actual values passed to function
- Must match parameter types and order

```cpp
greet("Alice");  // "Alice" is an argument
```

---

## Summary: Return Values

**Return values:**
- Data sent back from function to caller
- Specified by return type
- Use `return` statement
- Must match return type

```cpp
int add(int a, int b) {  // int is return type
    return a + b;        // return statement
}

int result = add(5, 3);  // capture return value
```

**void functions:** No return value needed

---

## Practice Exercises

**Create these functions:**

1. `int multiply(int a, int b)` - Returns product of two numbers
2. `double calculateCircleArea(double radius)` - Returns area
3. `void displayBox(int width, int height)` - Draws a box with asterisks
4. `string getFullName(string first, string last)` - Returns combined name
5. `bool isEven(int number)` - Returns true if number is even

**Then call each function from main() with different arguments!**

---

## Key Takeaways

- **Parameters** receive data INTO functions  
- **Arguments** are the actual values you pass  
- **Return values** send data OUT of functions  
- **Order and type must match** between arguments and parameters  
- **Use prototypes** to organize code  
- **Pass by value** creates copies (default)  
- **Non-void functions** must return appropriate type  

