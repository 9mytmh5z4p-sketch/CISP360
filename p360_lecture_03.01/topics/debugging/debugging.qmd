
# Introduction to Debugging in C++

## What is debugging?

**Debugging** is the process of finding and fixing errors (bugs) in your code.

Every programmer writes buggy code - even experienced developers! The difference is that experienced programmers know how to **find** and **fix** bugs efficiently.

---

**Types of errors:**
- **Syntax errors** - Code won't compile (missing semicolon, wrong syntax)
- **Logic errors** - Code compiles but produces wrong results
- **Runtime errors** - Code crashes while running

**The debugging mindset:**
- Bugs are **normal** - don't get frustrated!
- Be **systematic** - don't randomly change code
- **Test frequently** - catch bugs early
- **Read error messages** - they're trying to help you!

## Why debugging matters

Debugging is one of the most important programming skills you'll learn.

---

**You'll spend more time debugging than writing code!**

Professional programmers estimate:
- 20% of time: Writing new code
- 80% of time: Debugging, testing, and fixing code

**Good debugging skills help you:**
- Fix problems faster
- Understand how code works
- Write better code from the start
- Become a confident programmer

## Understanding compiler errors

When code won't compile, the compiler gives you error messages.

**Example error message:**
```
error: expected ';' before 'cout'
```

---

**How to read error messages:**
1. **Line number** - Where the problem is (or near)
2. **Error type** - What kind of error
3. **Description** - What's wrong
4. **Context** - Sometimes shows the problematic code

**Important:** The error might be on the line **before** the line number shown!

## Common syntax errors

**Missing semicolon:**

```cpp
int age = 25  // Missing semicolon
cout << age << endl;
```

**Error:**
```
error: expected ';' before 'cout'
```

**Fix:**
```cpp
int age = 25;  // Added semicolon
cout << age << endl;
```

---

**Mismatched braces:**

```cpp
int main() {
    cout << "Hello" << endl;
    return 0;
// Missing closing brace
```

**Error:**
```
error: expected '}' at end of input
```

---

**Fix:**
```cpp
int main() {
    cout << "Hello" << endl;
    return 0;
}  // Added closing brace
```

---

**Undefined variable:**

```cpp
int age = 25;
cout << aeg << endl;  // Typo: aeg instead of age
```

**Error:**
```
error: 'aeg' was not declared in this scope
```

**Fix:**
```cpp
int age = 25;
cout << age << endl;  // Fixed typo
```

## Basic debugging technique 1 - Read the error message

**Step 1: Read the first error message**

Many times, fixing the first error makes the others go away.

---

**Step 2: Find the line number**

```
main.cpp:15:5: error: expected ';' before 'cout'
```

This means: Line 15, column 5 has an error.

---

**Step 3: Read the description**

"expected ';' before 'cout'" means: You forgot a semicolon before the cout statement.

---

**Step 4: Check that line AND the line before**

Often the error is on the **previous line**.

---

**Step 5: Fix and recompile**

Make the fix, save, and compile again.

## Basic debugging technique 2 - Comment out code

When you're not sure what's causing an error, comment out sections of code.

**Original broken code:**

```cpp
int main() {
    int x = 10;
    int y = 20;
    int z = x + y;
    cout << "Result: " << z << endl;
    // Something here is broken
    int a = 5 / 0;  // This causes a problem
    cout << "Done" << endl;
    return 0;
}
```

---

**Comment out suspicious sections:**

```cpp
int main() {
    int x = 10;
    int y = 20;
    int z = x + y;
    cout << "Result: " << z << endl;
    
    // Commenting out to test
    // int a = 5 / 0;
    // cout << "Done" << endl;
    
    return 0;
}
```

If it works now, the problem is in the commented section!

## Basic debugging technique 3 - Print statements

**The most basic and effective debugging tool: cout statements!**

Use `cout` to see what's happening in your code.

---

**Example problem - Wrong calculation:**

```cpp
int main() {
    int score1 = 85;
    int score2 = 92;
    int score3 = 78;
    
    int average = score1 + score2 + score3 / 3;  // BUG!
    
    cout << "Average: " << average << endl;
    return 0;
}
```

**Output:**
```
Average: 203
```

---

That's wrong! Let's debug:

```cpp
int main() {
    int score1 = 85;
    int score2 = 92;
    int score3 = 78;
    
    // Debug: Print individual values
    cout << "Score 1: " << score1 << endl;  //85
    cout << "Score 2: " << score2 << endl;  //92
    cout << "Score 3: " << score3 << endl;  //78
    
    int average = score1 + score2 + score3 / 3;
    
    // Debug: Print the result
    cout << "Average: " << average << endl;
    
    return 0;
}
```

::: notes
You may think we haven't accomplished anything with those cout statements, but that's not true. We confirmed the values were correctly assigned!
:::

---

Doing the math in your head, you can see the calculation is wrong. The fix:

```cpp
int average = (score1 + score2 + score3) / 3;  // Added parentheses
```

## Basic debugging technique 4 - Simplify the problem

If you have a complex problem, break it into smaller pieces.

**Complex problem:**

```cpp
double result = (a + b) * c / (d - e) + f * g - h;
```

---

**Simplified debugging:**

```cpp
double sum = a + b;
cout << "sum = " << sum << endl;

double product1 = sum * c;
cout << "product1 = " << product1 << endl;

double difference = d - e;
cout << "difference = " << difference << endl;

double quotient = product1 / difference;
cout << "quotient = " << quotient << endl;

double product2 = f * g;
cout << "product2 = " << product2 << endl;

double result = quotient + product2 - h;
cout << "result = " << result << endl;
```

Now you can see exactly where the problem occurs!

## Basic debugging technique 5 - Check your assumptions

Often bugs happen because we assume something that isn't true.

**Common false assumptions:**
- "I initialized that variable" (but you didn't)
- "That function returns what I expect" (but it returns something else)
- "The user will enter valid input" (but they enter garbage)
- "Integer division gives decimals" (but it truncates)


---

**Example - Integer division mistake:**

```cpp
int total = 100;
int count = 3;

double average = total / count;  // BUG!

cout << "Average: " << average << endl;  // Shows: 33 (not 33.333...)
```

**Debug by checking types:**

```cpp
cout << "total type: int, value: " << total << endl;
cout << "count type: int, value: " << count << endl;
cout << "total / count: " << (total / count) << endl;  // Integer division!
```

---

**Fix:**

```cpp
double average = static_cast<double>(total) / count;
```

::: notes
We'll talk about this later in the course. For now, consider changing the variable types.
:::

## The debugging process

**Step 1: Reproduce the bug**

Make sure you can consistently cause the bug to happen.

---

**Step 2: Isolate the problem**

- Comment out code sections
- Test with simple inputs
- Add print statements

---

**Step 3: Understand the bug**

- Why is it happening?
- What did you assume that was wrong?

---

**Step 4: Fix the bug**

Make the smallest change possible to fix it.

---

**Step 5: Test the fix**

- Does it work now?
- Did you break anything else?
- Test with multiple inputs

---

**Step 6: Learn from it**

- Why did this bug happen?
- How can you avoid it in the future?

## Common beginner mistakes

---

**Mistake 1: Not compiling often**

**Bad approach:**
- Write 100 lines of code
- Try to compile
- Get 50 errors

**Good approach:**
- Write 5-10 lines
- Compile and test
- Fix any errors immediately

---

**Mistake 2: Ignoring warnings**

Compilers give warnings for suspicious code. Don't ignore them!

```cpp
int x;  // Warning: unused variable
```

Warnings often become bugs later.

---

**Mistake 3: Random changes**

**Bad approach:**
"I'll just change random things until it works!"

**Good approach:**
- Understand the problem
- Make targeted changes
- Test each change

---

**Mistake 4: Not reading documentation**

If you're not sure how something works, look it up!

- Check your textbook
- Read compiler error messages fully
- Search for the exact error message


## Practice debugging strategies

**Strategy 1: Binary search debugging**

If you have a long program, comment out half and test. Keep narrowing down where the bug is.

---

**Strategy 2: Rubber duck debugging**

Explain your code line-by-line to someone (or a rubber duck!). Often you'll find the bug while explaining.

**Strategy 3: Take a break**

If you're stuck for more than 15 minutes, take a 5-minute break. Fresh eyes find bugs faster!

---

**Strategy 4: Start from scratch**

Sometimes it's easier to rewrite a small section than debug it.

**Strategy 5: Compare to working code**

Look at similar working examples and see what's different.

## Real debugging example - Complete walkthrough

**The buggy program:**

```cpp
#include <iostream>
#include <vector>
using namespace std;

int main() {
    vector<int> scores = {85, 92, 78, 95, 88};
    
    int total = 0;
    for (int i = 0; i <= scores.size(); i++) {
        total = total + scores[i];
    }
    
    double average = total / scores.size();
    
    cout << "Average: " << average << endl;
    
    return 0;
}
```

**Problem:** This program crashes!

---

**Debugging step 1: Add print statement in loop**

```cpp
for (int i = 0; i <= scores.size(); i++) {
    cout << "i = " << i << endl;  // Debug print
    total = total + scores[i];
}
```

**Output:**
```
i = 0
i = 1
i = 2
i = 3
i = 4
i = 5
[crash]
```

**Discovery:** Loop goes to i = 5, but valid indexes are 0-4!

**Bug #1 found:** `i <= scores.size()` should be `i < scores.size()`

---

**Debugging step 2: Check average calculation**

```cpp
double average = total / scores.size();
cout << "Total: " << total << endl;  // Debug
cout << "Size: " << scores.size() << endl;  // Debug
cout << "Average: " << average << endl;
```

**Output:**
```
Total: 438
Size: 5
Average: 87
```

Expected: 87.6, got: 87

**Bug #2 found:** Integer division! Need to cast to double.

---

**Fixed program:**

```cpp
#include <iostream>
#include <vector>
using namespace std;

int main() {
    vector<int> scores = {85, 92, 78, 95, 88};
    
    int total = 0;
    for (int i = 0; i < scores.size(); i++) {  // Fixed: < instead of <=
        total = total + scores[i];
    }
    
    // Fixed: Cast to double for decimal result
    double average = static_cast<double>(total) / scores.size();
    
    cout << "Average: " << average << endl;
    
    return 0;
}
```

## Summary

Debugging is a critical programming skill that you'll use constantly.

**Key debugging techniques:**
- Read compiler error messages carefully
- Use cout statements to see what's happening
- Comment out code to isolate problems
- Test with simple, known inputs
- Check your assumptions
- Simplify complex expressions
- Compile and test frequently

**The debugging mindset:**
- Bugs are normal - don't panic
- Be systematic, not random
- Understand before fixing
- Test your fixes
- Learn from each bug

**Prevention strategies:**
- Write clear, simple code
- Use meaningful names
- Test frequently
- Compile often (every 5-10 lines)

**Remember:**
- Every programmer debugs code
- Debugging skills improve with practice
- Print statements are powerful
- Small, focused changes are best

Practice these techniques and you'll become a confident debugger!

---

# Key Takeaways

1. Use cout statements strategically to understand what your code is actually doing
2. Debug systematically by isolating problems rather than making random changes
3. Compile and test frequently to catch bugs early when they're easiest to fix

