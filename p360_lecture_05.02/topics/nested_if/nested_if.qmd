# Nested if Statements

How can programs make decisions that depend on multiple conditions being true in sequence? Nested if statements allow you to place one if statement inside another to handle complex decision-making scenarios.

::: notes
Total slides in this section: 10

This introduction poses a question that engages students to think about multi-layered decision-making in programming, which naturally leads to the concept of nesting.
:::

<!-- Slide 1 -->

---

## What are Nested if Statements?

A nested if statement is an if statement that appears inside the code block of another if statement. This structure allows you to test a second condition only when the first condition is true.

```cpp
if (outer_condition) {
    if (inner_condition) {. // nested if
        // Executes only if both conditions are true
    }
}
```

<!-- Slide 2 -->


## What are Nested if Statements?

```cpp
if (outer_condition) {
    if (inner_condition) {. // nested if
        // Executes only if both conditions are true
    }
}
```

Nesting enables sequential decision-making where each level of condition depends on the previous level being satisfied.

::: notes
A diagram showing boxes within boxes would be helpful here, illustrating the concept of one if statement contained within another's code block.
:::

<!-- Slide 2 -->
---

## Basic Nested if Syntax

Nested if statements require careful attention to indentation and curly braces to maintain code clarity and correctness.

---

```cpp
int age = 25;
bool hasLicense = true;

if (age >= 18) {
    if (hasLicense) {
        cout << "You can rent a car." << endl;
    }
}
```

Each level of nesting should be indented consistently to show the hierarchical structure. The inner if statement only executes when the outer condition (age >= 18) is true.

::: notes
A visual representation showing indentation levels with arrows pointing to different nesting depths would help students understand the structure.
:::

<!-- Slide 3 -->

---

## Nested if with else Clauses

Nested if statements can be combined with else clauses at any level to handle multiple decision paths.

```cpp
int temperature = 75;
bool isSunny = true;

if (temperature > 70) {
    if (isSunny) {
        cout << "Perfect day for the beach!" << endl;
    } else {
        cout << "Warm but cloudy." << endl;
    }
} else {
    cout << "Too cold for outdoor activities." << endl;
}
```

<!-- Slide 4 -->

## Nested if with else Clauses

```cpp
int temperature = 75;
bool isSunny = true;

if (temperature > 70) {
    if (isSunny) {
        cout << "Perfect day for the beach!" << endl;
    } else {
        cout << "Warm but cloudy." << endl;
    }
} else {
    cout << "Too cold for outdoor activities." << endl;
}
```

Each else clause belongs to its nearest preceding if statement. The structure creates different execution paths based on combinations of conditions.

::: notes
A decision tree diagram would effectively show the branching paths: temperature check first, then sunny check if warm, with different outcomes for each path.
:::

<!-- Slide 4 -->
---

## Execution Flow of<br> Nested if Statements

Understanding the step-by-step evaluation order is crucial for predicting program behavior with nested if statements.

---

```cpp
int score = 85;
char grade;

if (score >= 60) {                    // Step 1: Check this first
    if (score >= 90) {                // Step 2: Only checked if step 1 is true
        grade = 'A';
    } else if (score >= 80) {         // Step 3: Checked if step 2 is false
        grade = 'B';
    } else {
        grade = 'C';
    }
} else {
    grade = 'F';                      // Only if step 1 is false
}
```

The outer condition is evaluated first. If true, execution proceeds to evaluate the inner conditions. If the outer condition is false, the entire inner block is skipped.

::: notes
A flowchart showing the evaluation sequence with numbered steps would help students visualize how the program moves through the nested structure.
:::

<!-- Slide 5 -->

---

## Nested if Examples

Nested if statements are commonly used for input validation, eligibility checking, and multi-criteria decision making.

---

```cpp
// Example 1: Admission eligibility
int gpa = 3.5;
int testScore = 1200;

if (gpa >= 3.0) {
    if (testScore >= 1100) {
        cout << "Admitted!" << endl;
    }
}

// Example 2: Discount calculation
bool isMember = true;
double purchaseAmount = 150.00;

if (isMember) {
    if (purchaseAmount > 100) {
        cout << "You get a 20% discount!" << endl;
    } else {
        cout << "You get a 10% discount!" << endl;
    }
}
```

These examples show how nested if statements naturally model real-world decision processes that have prerequisite conditions.

<!-- Slide 6 -->

---

## Nested if vs Logical Operators:<br> A Comparison

The same logic can often be expressed using either nested if statements or logical operators with different trade-offs.

```cpp
// Using nested if statements
if (age >= 18) {
    if (hasLicense) {
        cout << "Can drive" << endl;
    }
}

// Using logical AND operator
if (age >= 18 && hasLicense) {
    cout << "Can drive" << endl;
}

// Nested if with else clauses
if (temperature > 90) {
    if (humidity > 70) {
        cout << "Heat advisory" << endl;
    }
} else {
    cout << "Normal conditions" << endl;
}

// Cannot easily replicate with logical operators
if (temperature > 90 && humidity > 70) {
    cout << "Heat advisory" << endl;
} else {
    cout << "Normal conditions" << endl;  // Triggers when either condition fails
}
```

---

The logical operator approach is more concise when you simply need both conditions true. Nested if statements offer more control when you need different actions at different decision levels.

::: notes
A side-by-side comparison table showing scenarios where each approach excels would help students make informed choices.
:::

<!-- Slide 7 -->

---

## When to Use Nested if vs Logical Operators

Choose the approach that best matches your logic requirements and enhances code readability.

---

Use nested if statements when you need to execute code at intermediate decision levels, when conditions are complex enough to benefit from separation, or when different else clauses apply at different levels. 
Use logical operators (&&, ||) when you simply need all conditions true with no intermediate actions, when the combined condition is straightforward and readable, or when you want more concise code.

---

```cpp
// Use nesting when intermediate actions are needed
if (accountExists) {
    cout << "Account found. Checking balance..." << endl;
    if (balance >= amount) {
        processWithdrawal();
    }
}

// Use logical operators for simple combined conditions
if (age >= 13 && age <= 19) {
    cout << "Teenager" << endl;
}
```

---

The choice often depends on whether you need to perform actions or provide feedback at each decision level.

<!-- Slide 8 -->

---

## Readability and Structure

Proper formatting and reasonable nesting depth are essential for maintaining readable and maintainable code.

. . . 

Always use consistent indentation to show nesting levels clearly. Each nested level should be indented by the same amount, typically 4 spaces or one tab.

--- 

Limit nesting depth to 2-3 levels when possible. Deeply nested if statements become difficult to read and understand. If you find yourself nesting more than 3 levels deep, consider refactoring your logic into separate functions or using logical operators.


---

```cpp
// Acceptable nesting depth
if (condition1) {
    if (condition2) {
        if (condition3) {
            // This is getting complex
        }
    }
}

// Consider refactoring if deeper
```

::: notes
A "before and after" code comparison showing poorly formatted versus well-formatted nested if statements would emphasize the importance of proper indentation.
:::

<!-- Slide 9 -->

---

## Summary

Nested if statements allow sequential decision-making by placing if statements inside other if statement blocks, enabling complex logic that depends on multiple conditions. Choose between nested if statements and logical operators based on whether you need intermediate actions or simply need to check combined conditions.

<!-- Slide 10 -->

---

## Appendix

<!-- Appendix Title Slide -->

---

## Common Practices

Always use curly braces for all if statement blocks, even single statements, to prevent errors when nesting. Maintain consistent indentation throughout nested structures to make the hierarchy visually clear.

```cpp
// Recommended: Clear structure with braces
if (x > 0) {
    if (y > 0) {
        cout << "Both positive" << endl;
    }
}

// Avoid: Confusing without braces
if (x > 0)
    if (y > 0)
        cout << "Both positive" << endl;
```

Keep nesting depth shallow by using logical operators for simple combined conditions. Extract complex nested logic into well-named functions when nesting exceeds 2-3 levels.

<!-- Appendix Slide 1 -->

---

## Common Mistakes

Incorrect else clause pairing is a frequent error where the else is associated with the wrong if statement due to poor formatting or misunderstanding of scope.

```cpp
// MISTAKE: Ambiguous else pairing without braces
if (x > 0)
    if (y > 0)
        cout << "Both positive" << endl;
else
    cout << "x is not positive" << endl;  // WRONG! This pairs with inner if

// CORRECT: Use braces to clarify intent
if (x > 0) {
    if (y > 0) {
        cout << "Both positive" << endl;
    } else {
        cout << "x positive, y not positive" << endl;
    }
}
```

Excessive nesting depth makes code difficult to read and maintain. Refactor deeply nested structures into separate functions or use logical operators to combine simple conditions.

<!-- Appendix Slide 2 -->

---

## More Examples

These examples demonstrate additional scenarios where nested if statements effectively model complex decision logic.

```cpp
// Example 1: Grade calculation with participation
int examScore = 85;
bool participationComplete = true;

if (examScore >= 70) {
    if (participationComplete) {
        cout << "Final grade: B" << endl;
    } else {
        cout << "Final grade: C (missing participation)" << endl;
    }
} else {
    cout << "Final grade: F" << endl;
}

// Example 2: Game character movement validation
bool hasKey = true;
bool doorLocked = true;
int healthPoints = 50;

if (healthPoints > 0) {
    if (doorLocked) {
        if (hasKey) {
            cout << "Door unlocked. You may enter." << endl;
        } else {
            cout << "The door is locked. Find a key." << endl;
        }
    } else {
        cout << "Door is open. Entering..." << endl;
    }
} else {
    cout << "Game over." << endl;
}

// Example 3: Shipping cost calculation
double orderTotal = 75.00;
bool isPremiumMember = true;

if (orderTotal >= 50) {
    if (isPremiumMember) {
        cout << "Free shipping!" << endl;
    } else {
        cout << "Shipping: $5.99" << endl;
    }
} else {
    cout << "Shipping: $9.99" << endl;
}
```

<!-- Appendix Slide 3 -->

---

## Practice Problems

1. Write nested if statements that check if a number is positive, and if so, check if it is even. Print appropriate messages for each case.

2. Create a program that checks if a student's age is at least 16, and if so, checks if they have a valid permit. Print "Can drive" only if both conditions are true.

3. Write code using nested if statements that determines movie ticket pricing: if age is under 12, ticket is $5; if age is 12-64, check if it's a weekday (ticket $10) or weekend (ticket $15); if age is 65 or over, ticket is $7.

4. Rewrite the following nested if statement using logical operators: `if (temperature > 32) { if (temperature < 100) { cout << "Liquid water" << endl; } }`

5. Create a nested if structure with else clauses that categorizes a student: if GPA >= 3.5, check if they have honors designation (print "Honors Student" or "High Achiever"); otherwise print "Standard Student".

<!-- Appendix Slide 4 -->

---

## AI Search Terms

Use these search terms when researching nested if statements or seeking additional help from AI assistants or search engines.

- "C++ nested if statements tutorial"
- "nested if else syntax C++"
- "when to use nested if vs logical operators C++"
- "C++ nested conditionals examples"
- "if statement nesting depth best practices"
- "C++ nested if statement flowchart"
- "avoiding deeply nested if statements C++"
- "nested if vs switch statement C++"

<!-- Appendix Slide 5 -->

---

## Questions for Reflection

1. How does the order of conditions in nested if statements affect which code blocks execute? What happens if you reverse the outer and inner conditions?

2. Why might deeply nested if statements (4+ levels) be considered problematic even if the code works correctly?

3. In what situations would nested if statements be preferable to using the && operator, and vice versa?

4. How does the else clause pairing rule (else matches nearest if) affect your code structure when working with nested if statements?

5. Can you think of a real-world decision-making scenario from your daily life that would naturally map to a nested if statement structure? How many levels of nesting would it require?

<!-- Appendix Slide 6 -->