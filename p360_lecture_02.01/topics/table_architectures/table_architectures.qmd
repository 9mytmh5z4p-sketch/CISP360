
# Creating Formatted Tables in C++

## Introduction

You've learned how to format individual values with manipulators. Now let's combine those skills to create something professional: **formatted tables**!

Tables are everywhere in programming:
- Financial reports
- Data summaries
- System information displays
- Log files
- Database outputs

**Key Question:** How do we decide which table format to use?

**Answer:** **The data inside the table drives the decision about which table to use.**

---

## Why Tables Matter

Well-formatted tables make data:
- **Readable** - Easy to scan and understand
- **Professional** - Look polished and organized
- **Comparable** - Align values for easy comparison
- **Clear** - Show relationships between data

Compare these two outputs:

---

**Without formatting (bad):**
```
Alice 30 50000.5
Bob 25 45000.8
Charlie 28 52000
```

---

**With table formatting (good):**
```
================================================================
| Name         | Age        | Salary           |
================================================================
| Alice        | 30         | 50000.5          |
| Bob          | 25         | 45000.8          |
| Charlie      | 28         | 52000            |
================================================================
```

---

## The Four Essential Table Types

We'll cover four common table patterns, each suited for different types of data:

1. **Fixed Width Table with Borders** - Professional reports with clear separation
2. **Hexadecimal and Octal Table** - Number system conversions
3. **Cash Table with Negative Numbers** - Financial data with parentheses for negatives
4. **Scientific Notation Table** - Very large or very small numbers

---

## Table Type 1: Fixed Width Table with Borders

### When to Use

Use this table when you need:
- Clear visual separation between columns
- Professional appearance
- Mixed data types (strings and numbers)
- General-purpose data display

## Example Output

```
Fixed Width Table with Borders
================================================================
| Name         | Age        | Salary           |
================================================================
| Alice        | 30         | 50000.5          |
| Bob          | 25         | 45000.8          |
| Charlie      | 28         | 52000            |
================================================================
End of Report.
```

## Key Techniques

1. **Define column widths as constants**
2. **Use `setfill()` to create border lines**
3. **Use `setw()` for each column**
4. **Add spaces and `|` characters for visual borders**

## Complete Code Example

```cpp
//FixWwBorders.cpp
#include <iostream>
#include <iomanip>
using namespace std;

int main() {
    const int nameWidth = 15;
    const int ageWidth = 10;
    const int salaryWidth = 12;
    const int totalWidth = nameWidth + ageWidth + salaryWidth + 8;
    const string title = "Fixed Width Table with Borders";
    
    cout << title << endl;
    cout << setfill('=') << setw(totalWidth) << "=" << endl;
    cout << setfill(' ')
         << "| " << left << setw(nameWidth) << "Name"
         << "| " << setw(ageWidth) << "Age"
         << "| " << setw(salaryWidth) << "Salary" << " |" << endl;
    cout << setfill('=') << setw(totalWidth) << "=" << endl;
    
    cout << setfill(' ')
         << "| " << setw(nameWidth) << "Alice"
         << "| " << setw(ageWidth) << 30
         << "| " << setw(salaryWidth) << 50000.50 << " |" << endl;
    
    cout << "| " << setw(nameWidth) << "Bob"
         << "| " << setw(ageWidth) << 25
         << "| " << setw(salaryWidth) << 45000.75 << " |" << endl;
    
    cout << "| " << setw(nameWidth) << "Charlie"
         << "| " << setw(ageWidth) << 28
         << "| " << setw(salaryWidth) << 52000.00 << " |" << endl;
    
    cout << setfill('=') << setw(totalWidth) << "=" << endl;
    
    cout << "End of Report." << endl;
    
    return 0;
}
```

## Important Concepts

**1. Calculate total width:**
```cpp
const int totalWidth = nameWidth + ageWidth + salaryWidth + 8;
// +8 accounts for the "| | | |" characters and spaces
```

**2. Create border lines with setfill:**
```cpp
cout << setfill('=') << setw(totalWidth) << "=" << endl;
// Fills the width with '=' characters
```

**3. Reset fill character:**
```cpp
cout << setfill(' ')  // Always reset to space after using setfill('=')
```

**4. Each column needs `setw()`:**
```cpp
cout << "| " << setw(nameWidth) << "Alice"  // setw() only affects next item!
     << "| " << setw(ageWidth) << 30         // Need setw() again
```

---

## Table Type 2: Hexadecimal and Octal Table

## When to Use

Use this table when you need to:
- Show number system conversions (decimal, hex, octal, binary)
- Display memory addresses
- Show computer science / low-level programming data
- Compare different representations of the same value

## Example Output

```
+ Value Representations +
Format         Value
-----------------------
Decimal:       255
Hex:           FF
Octal:         377
-----------------------
+ End of Report +
```

## Key Techniques

1. **Use `dec`, `hex`, and `oct` manipulators**
2. **Use `uppercase` for uppercase hex letters**
3. **Simple dashed borders (no need for complex borders)**

## Complete Code Example

```cpp
//HexOctTable.cpp
#include <iostream>
#include <iomanip>
using namespace std;

int main() {
    int value = 255;
    
    const int labelWidth = 12;
    const int valueWidth = 8;
    
    cout << "+ Value Representations +" << endl;
    cout << left << setw(labelWidth) << "Format"
         << left << setw(valueWidth) << "Value" << endl;
    cout << "-----------------------" << endl;
    
    cout << left << setw(labelWidth) << "Decimal:"
         << left << setw(valueWidth) << dec << value << endl;
    
    cout << left << setw(labelWidth) << "Hex:"
         << left << setw(valueWidth) << hex << uppercase << value << endl;
    
    cout << left << setw(labelWidth) << "Octal:"
         << left << setw(valueWidth) << oct << value << endl;
    cout << "-----------------------" << endl;
    
    cout << "+ End of Report +" << endl;
    
    return 0;
}
```

## Number System Manipulators

| Manipulator | Purpose | Example |
|-------------|---------|---------|
| `dec` | Decimal (base 10) | 255 |
| `hex` | Hexadecimal (base 16) | ff |
| `oct` | Octal (base 8) | 377 |
| `uppercase` | Uppercase hex letters | FF instead of ff |

**Important:** These manipulators are **persistent** - they stay active until changed!

```cpp
cout << hex << 255 << endl;  // ff
cout << 100 << endl;         // 64 (still in hex mode!)
cout << dec << 100 << endl;  // 100 (back to decimal)
```

---

## Table Type 3: Cash Table with Negative Numbers

## When to Use

Use this table when you need:
- Financial data (income/expenses)
- Accounting reports
- Budget tracking
- Any data with positive and negative monetary values

## Special Feature: Parentheses for Negative Numbers

In accounting, negative numbers are shown in parentheses:
- Positive: `1500.75`
- Negative: `( $450.50)` (not `-450.50`)

## Example Output

```
================================================================
| Description       | Cash Amount      |
----------------------------------------------------------------
| Salary            |        1500.75   |
| Groceries         |     ( $450.50)   |
| Freelance Work    |        2000.00   |
| Rent              |     ( $300.00)   |
| Investment        |         750.25   |
================================================================
```

## Key Techniques

1. **Use `fixed` and `setprecision(2)` for money**
2. **Handle negative numbers with conditional formatting**
3. **Use `right` alignment for numbers**
4. **Adjust `setw()` for parentheses (subtract space for `$` and `()`)**

## Complete Code Example

```cpp
//CashTablewNegs.cpp
#include <iostream>
#include <iomanip>
using namespace std;

int main() {
    const int colWidth = 15;
    const int totalWidth = colWidth * 2 + 6;
    
    double salary = 1500.75;
    double groceries = -450.50;
    double freelance = 2000.00;
    double rent = -300.00;
    double investment = 750.25;
    
    cout << setfill('=') << setw(totalWidth) << "=" << endl;
    cout << setfill(' ')
         << "| " << left << setw(colWidth) << "Description"
         << "| " << setw(colWidth) << "Cash Amount" << " |" << endl;
    cout << setfill('-') << setw(totalWidth) << "-" << endl;
    
    cout << setfill(' ');
    cout << fixed << setprecision(2);
    
    cout << "| " << setw(colWidth) << left << "Salary";
    cout << "| " << setw(colWidth) << right << salary << " |" << endl;
    
    cout << "| " << setw(colWidth) << left << "Groceries";
    cout << "|" << setw(colWidth - 6) << right << "( $" << -groceries << ") |" << endl;
    
    cout << "| " << setw(colWidth) << left << "Freelance Work";
    cout << "| " << setw(colWidth) << right << freelance << " |" << endl;
    
    cout << "| " << setw(colWidth) << left << "Rent";
    cout << "|" << setw(colWidth - 6) << right << "( $" << -rent << ") |" << endl;
    
    cout << "| " << setw(colWidth) << left << "Investment";
    cout << "| " << setw(colWidth) << right << investment << " |" << endl;
    
    cout << setfill('=') << setw(totalWidth) << "=" << endl;
    
    return 0;
}
```

## Negative Number Formatting Explained

For negative numbers in accounting format:

**Regular output:**
```cpp
cout << -450.50;  // Displays: -450.5
```

**Accounting format with parentheses:**
```cpp
// Store as negative, display with parentheses
double groceries = -450.50;
cout << "( $" << -groceries << ")";  // Displays: ( $450.50)
```

**Why `setw(colWidth - 6)`?**
- `colWidth` is 15
- `( $` takes 3 characters
- `)` takes 1 character  
- We need space for the number: 15 - 6 = 9 characters for the amount

---

## Table Type 4: Scientific Notation Table

## When to Use

Use this table when you need:
- Very large numbers (millions, billions, trillions)
- Very small numbers (0.00001, etc.)
- Scientific or engineering data
- Precise notation regardless of scale

## Example Output

```
Scientific Notation Output:
---------------------------------
Value 1:         1.235e+03
Value 2:         9.87654e+03
```

## Key Techniques

1. **Use `scientific` manipulator**
2. **Use `setprecision()` to control significant figures**
3. **Simpler table structure (fewer columns)**

## Complete Code Example

```cpp
// SciNotWLeft.cpp
#include <iostream>
#include <iomanip>
using namespace std;

int main() {
    double num1 = 1234.56789;
    double num2 = 9876.54321;
    string title = "Scientific Notation Output:";
    
    cout << title << endl;
    cout << string(title.size(), '-') << endl;  // auto figure length
    cout << left << setw(15) << "Value 1:"
         << scientific << setprecision(3) << num1 << endl;
    cout << setw(15) << "Value 2:"
         << scientific << setprecision(5) << num2 << endl;
    
    return 0;
}
```

## Scientific Notation Explained

**Scientific notation format:** `1.234e+03`
- Coefficient: `1.234`
- Exponent: `+03` (means × 10³)
- Value: 1.234 × 1000 = 1234

**Controlling precision:**
```cpp
double num = 1234.56789;

cout << scientific << setprecision(3) << num;  // 1.235e+03
cout << scientific << setprecision(5) << num;  // 1.23457e+03
```

**Uppercase E:**
```cpp
cout << scientific << uppercase << num;  // 1.235E+03 (capital E)
```

---

## Choosing the Right Table Type

| Data Type | Best Table | Why |
|-----------|-----------|-----|
| Mixed text and numbers | Fixed Width with Borders | Clear separation, professional |
| Number conversions | Hex/Oct Table | Shows different representations |
| Money/Budget data | Cash Table | Proper negative number formatting |
| Very large/small numbers | Scientific Notation | Consistent scale regardless of size |
| Database results | Fixed Width with Borders | General purpose |
| Memory addresses | Hex/Oct Table | Hexadecimal format |
| Scientific measurements | Scientific Notation | Standard scientific format |

---

## Common Table Patterns

## Pattern 1: Setting Up Column Widths

**Always define column widths as constants at the top:**

```cpp
const int nameWidth = 15;
const int ageWidth = 10;
const int salaryWidth = 12;
const int totalWidth = nameWidth + ageWidth + salaryWidth + 8;
```

### Pattern 2: Creating Border Lines

**Use setfill and setw to create lines:**

```cpp
// Equals border
cout << setfill('=') << setw(totalWidth) << "=" << endl;

// Dash border
cout << setfill('-') << setw(totalWidth) << "-" << endl;

// Always reset
cout << setfill(' ');
```

### Pattern 3: Header Row

```cpp
cout << setfill(' ')
     << "| " << left << setw(nameWidth) << "Name"
     << "| " << setw(ageWidth) << "Age"
     << "| " << setw(salaryWidth) << "Salary" << " |" << endl;
```

### Pattern 4: Data Rows

```cpp
cout << "| " << setw(nameWidth) << "Alice"
     << "| " << setw(ageWidth) << 30
     << "| " << setw(salaryWidth) << 50000.50 << " |" << endl;
```

---

## Building a Table Step-by-Step

## Step 1: Plan Your Table

Ask yourself:
- What data am I displaying?
- How many columns?
- What's the widest value in each column?
- Do I need borders?
- What format (money, scientific, hex)?

## Step 2: Define Constants

```cpp
const int col1Width = 15;
const int col2Width = 10;
const int col3Width = 12;
const int totalWidth = col1Width + col2Width + col3Width + 8;
```

## Step 3: Set Formatting

```cpp
cout << fixed << setprecision(2);  // For money
// OR
cout << scientific << setprecision(3);  // For scientific
// OR
cout << hex << uppercase;  // For hexadecimal
```

## Step 4: Create Title and Top Border

```cpp
cout << "My Report Title" << endl;
cout << setfill('=') << setw(totalWidth) << "=" << endl;
cout << setfill(' ');
```

## Step 5: Add Header Row

```cpp
cout << "| " << left << setw(col1Width) << "Column1"
     << "| " << setw(col2Width) << "Column2"
     << "| " << setw(col3Width) << "Column3" << " |" << endl;
```

## Step 6: Add Separator

```cpp
cout << setfill('-') << setw(totalWidth) << "-" << endl;
cout << setfill(' ');
```

## Step 7: Add Data Rows

```cpp
cout << "| " << setw(col1Width) << value1
     << "| " << setw(col2Width) << value2
     << "| " << setw(col3Width) << value3 << " |" << endl;
```

## Step 8: Add Bottom Border

```cpp
cout << setfill('=') << setw(totalWidth) << "=" << endl;
```

---

## Common Mistakes and Solutions

## Mistake 1: Forgetting to Reset `setfill`

**WRONG:**
```cpp
cout << setfill('=') << setw(40) << "=" << endl;
cout << setw(20) << "Name";  // Fills with '=' instead of spaces!
```

**RIGHT:**
```cpp
cout << setfill('=') << setw(40) << "=" << endl;
cout << setfill(' ');  // Reset to space
cout << setw(20) << "Name";
```

## Mistake 2: Forgetting `setw()` for Each Column

**WRONG:**
```cpp
cout << setw(10);  // Set once
cout << "Name" << age << salary;  // Only "Name" is 10 wide!
```

**RIGHT:**
```cpp
cout << setw(10) << "Name"
     << setw(10) << age
     << setw(10) << salary;
```

## Mistake 3: Wrong Total Width Calculation

**WRONG:**
```cpp
const int totalWidth = col1 + col2 + col3;  // Forgot borders!
```

**RIGHT:**
```cpp
const int totalWidth = col1 + col2 + col3 + 8;  // +8 for "| | | |"
```

## Mistake 4: Not Using `left` for Text Columns

**WRONG:**
```cpp
cout << setw(15) << "Name";  // Right-aligned by default: "           Name"
```

**RIGHT:**
```cpp
cout << left << setw(15) << "Name";  // Left-aligned: "Name           "
```

### Mistake 5: Missing `fixed` with Money

**WRONG:**
```cpp
cout << setprecision(2) << 19.5;  // Might show: 20 or 19
```

**RIGHT:**
```cpp
cout << fixed << setprecision(2) << 19.5;  // Shows: 19.50
```

---

## Practice Exercises

## Exercise 1: Product Inventory Table

Create a table showing:
- Product name (20 characters)
- Quantity in stock (10 characters)
- Price per unit (12 characters, 2 decimals)
- Total value (12 characters, 2 decimals)
- At least 4 products
- Use borders

## Exercise 2: Temperature Conversion Table

Create a table showing:
- Celsius values (0, 25, 50, 75, 100)
- Fahrenheit equivalents
- Kelvin equivalents
- Use simple dashed borders

## Exercise 3: Bank Statement

Create a cash table showing:
- Transaction descriptions
- Amounts (positive and negative)
- Use parentheses for negative amounts
- Show running balance
- Use proper money formatting

## Exercise 4: Computer Memory Table

Create a table showing:
- Memory address (in hexadecimal)
- Value (in decimal)
- Value (in octal)
- Use uppercase hex

---

## Quick Reference

## Essential Manipulators for Tables

```cpp
// Width and alignment
setw(n)              // Set width (resets after each use!)
left                 // Left align (persistent)
right                // Right align (persistent)

// Fill character
setfill('=')         // Set fill character (persistent)
setfill(' ')         // Reset to space

// Number formatting
fixed                // Fixed-point (not scientific)
scientific           // Scientific notation
setprecision(n)      // Decimal places with fixed, sig figs with scientific

// Number systems
dec                  // Decimal (base 10)
hex                  // Hexadecimal (base 16)
oct                  // Octal (base 8)
uppercase            // Uppercase hex letters

// Boolean display
boolalpha           // Display as true/false
```

## Table Creation Checklist

- [ ] Include `<iomanip>`
- [ ] Define column width constants
- [ ] Calculate total width (include borders!)
- [ ] Set formatting (`fixed`, `setprecision`, etc.)
- [ ] Create top border
- [ ] Add header row
- [ ] Add separator line
- [ ] Add data rows (remember `setw()` for each column!)
- [ ] Add bottom border
- [ ] Reset `setfill(' ')` after using other fill characters

---

## Key Takeaways

- **The data determines the table type** - Choose format based on your data  
- **Plan before coding** - Define column widths first  
- **`setw()` resets** - Use it for every column  
- **`setfill()` persists** - Always reset to space  
- **Money needs `fixed` + `setprecision(2)`**  
- **Text columns need `left` alignment**  
- **Number columns typically use `right` alignment**  
- **Calculate total width** - Include borders and spaces  

---

## Summary

Well-formatted tables make your programs look professional and your data easy to understand. Master these four table types and you'll be able to present any data clearly:

1. **Fixed Width with Borders** - General purpose, professional
2. **Hex/Oct Tables** - Number system conversions
3. **Cash Tables** - Financial data with proper negative formatting
4. **Scientific Notation** - Very large or small numbers

**Remember:** Practice building tables from scratch. Start with the column widths, then the borders, then the data. Soon it will become second nature!

**Next steps:** Try combining table skills with user input, calculations, and loops (coming soon!) to create dynamic, interactive reports!
